{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/benjamingordon/Documents/X&X/townie/components/RepresentativeSearch/index.jsx\";\n\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\n\nvar RepresentativesByName = function RepresentativesByName(_ref) {\n  var json_input = _ref.json_input;\n  return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 4,\n      columnNumber: 3\n    }\n  }, json_input.officials.map(function (value, idx) {\n    return __jsx(\"li\", {\n      key: idx,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 6,\n        columnNumber: 47\n      }\n    }, value.name);\n  }));\n};\n\n_c = RepresentativesByName;\n\nvar Coordinates = function Coordinates(_ref2) {\n  var coordinates = _ref2.coordinates;\n  return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 3\n    }\n  }, \"lat: \" + coordinates.lat + \"\\nlng: \" + coordinates.lng //coordinates.map((value,idx) => <li key={idx}>{value}</li>)       \n  );\n};\n\n_c2 = Coordinates;\n\nvar RepresentativeSearch = /*#__PURE__*/function (_Component) {\n  _inherits(RepresentativeSearch, _Component);\n\n  var _super = _createSuper(RepresentativeSearch);\n\n  function RepresentativeSearch(props) {\n    var _this2;\n\n    _classCallCheck(this, RepresentativeSearch);\n\n    _this2 = _super.call(this, props);\n    _this2.state = {\n      address: \"\",\n      coordinates: {\n        lat: \"\",\n        lng: \"\"\n      },\n      reports: {\n        offices: [\"\"],\n        officials: [\"\"]\n      }\n    };\n    _this2.setAddress = _this2.setAddress.bind(_assertThisInitialized(_this2));\n    _this2.setCoordinates = _this2.setCoordinates.bind(_assertThisInitialized(_this2));\n    _this2.findRepresentatives = _this2.findRepresentatives.bind(_assertThisInitialized(_this2)); // this.state = { isEmptyState: true, isAddTripState: false  }\n    // this.triggerAddTripState = this.triggerAddTripState.bind(this);\n\n    return _this2;\n  }\n\n  _createClass(RepresentativeSearch, [{\n    key: \"setAddress\",\n    value: function setAddress(e) {\n      e.preventDefault(); //if(Number(event.target.value) != NaN)\n\n      this.setState({\n        address: e.target.value\n      });\n    }\n  }, {\n    key: \"findRepresentatives\",\n    value: function findRepresentatives(e) {\n      var _this3 = this;\n\n      e.preventDefault();\n\n      if (this.state.address !== \"\") {\n        //fetch(`https://www.googleapis.com/civicinfo/v2/representatives?key=${process.env.NEXT_PUBLIC_GOOGLE_MAPS_BOOTSTRAP_URL}&address=${this.state.address}`,{\n        fetch(\"https://www.googleapis.com/civicinfo/v2/representatives?key=AIzaSyBe7_ta_1zNod6CsCJI6ssWk64kyO14HZo&address=\".concat(this.state.address), {\n          // https://www.googleapis.com/civicinfo/v2/voterinfo?key=AIzaSyBe7_ta_1zNod6CsCJI6ssWk64kyO14HZo&address=${this.state.address}`\n          method: \"GET\",\n          dataType: \"JSON\",\n          headers: {\n            \"Content-Type\": \"application/json; charset=utf-8\"\n          }\n        }).then(function (response) {\n          return response.json();\n        }).then(function (data) {\n          // console.log(data);          \n          //console.log(\"coordinates\",this.state.coordinates)\n          _this3.setState({\n            reports: data\n          });\n\n          _this3.setCoordinates();\n        });\n      }\n    }\n  }, {\n    key: \"setCoordinates\",\n    value: function setCoordinates() {\n      var _this4 = this;\n\n      if (this.state.address !== \"\") {\n        //fetch(`https://maps.googleapis.com/maps/api/geocode/json?key=${process.env.NEXT_PUBLIC_GOOGLE_MAPS_BOOTSTRAP_URL}&address=${this.state.address}`,{\n        fetch(\"https://maps.googleapis.com/maps/api/geocode/json?key=AIzaSyBe7_ta_1zNod6CsCJI6ssWk64kyO14HZo&address=\".concat(this.state.address), {\n          method: \"GET\",\n          dataType: \"JSON\" // headers: {\n          //   \"Content-Type\": \"application/json; charset=utf-8\",\n          // }\n\n        }).then(function (response) {\n          return response.json();\n        }).then(function (data) {\n          _this4.setState({\n            coordinates: {\n              lat: data.results[0].geometry.location.lat,\n              lng: data.results[0].geometry.location.lng\n            }\n          });\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 5\n        }\n      }, __jsx(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 7\n        }\n      }, \"Enter your Address: \", this.state.answer), __jsx(\"input\", {\n        value: this.state.address,\n        onChange: this.setAddress,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 7\n        }\n      }), __jsx(\"button\", {\n        onClick: this.findRepresentatives,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 7\n        }\n      }, \"Find\"), __jsx(RepresentativesByName, {\n        json_input: this.state.reports,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 7\n        }\n      }), __jsx(Coordinates, {\n        coordinates: this.state.coordinates,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 7\n        }\n      }));\n    }\n  }]);\n\n  return RepresentativeSearch;\n}(Component);\n\nexport default RepresentativeSearch;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"RepresentativesByName\");\n$RefreshReg$(_c2, \"Coordinates\");","map":{"version":3,"sources":["/Users/benjamingordon/Documents/X&X/townie/components/RepresentativeSearch/index.jsx"],"names":["React","Component","RepresentativesByName","json_input","officials","map","value","idx","name","Coordinates","coordinates","lat","lng","RepresentativeSearch","props","state","address","reports","offices","setAddress","bind","setCoordinates","findRepresentatives","e","preventDefault","setState","target","fetch","method","dataType","headers","then","response","json","data","results","geometry","location","answer"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nconst RepresentativesByName = ({ json_input}) => (\n  <div>\n    {\n      json_input.officials.map((value,idx) => <li key={idx}>{value.name}</li>)       \n    }   \n  </div>\n);\n\nconst Coordinates = ({coordinates}) => (\n  <div>\n    {\n      \"lat: \"+coordinates.lat+\"\\nlng: \"+coordinates.lng\n      //coordinates.map((value,idx) => <li key={idx}>{value}</li>)       \n    }   \n  </div>\n);\n\nclass RepresentativeSearch extends Component {\n  constructor(props){\n      super(props); \n      this.state = {\n        address: \"\",\n        coordinates: {lat:\"\",lng:\"\"},\n        reports: {offices:[\"\"],officials:[\"\"]},\n      };        \n\n      this.setAddress = this.setAddress.bind(this);\n      this.setCoordinates = this.setCoordinates.bind(this);\n      this.findRepresentatives = this.findRepresentatives.bind(this);\n      // this.state = { isEmptyState: true, isAddTripState: false  }\n      // this.triggerAddTripState = this.triggerAddTripState.bind(this);\n  }\n\n  setAddress(e){\n    e.preventDefault();\n    //if(Number(event.target.value) != NaN)\n        this.setState({address: e.target.value})\n  }\n\n  findRepresentatives(e){\n    e.preventDefault();\n    if(this.state.address !== \"\"){ \n      \n        //fetch(`https://www.googleapis.com/civicinfo/v2/representatives?key=${process.env.NEXT_PUBLIC_GOOGLE_MAPS_BOOTSTRAP_URL}&address=${this.state.address}`,{\n        fetch(`https://www.googleapis.com/civicinfo/v2/representatives?key=AIzaSyBe7_ta_1zNod6CsCJI6ssWk64kyO14HZo&address=${this.state.address}`,{\n          // https://www.googleapis.com/civicinfo/v2/voterinfo?key=AIzaSyBe7_ta_1zNod6CsCJI6ssWk64kyO14HZo&address=${this.state.address}`\n            method: \"GET\",\n            dataType: \"JSON\",\n            headers: {\n              \"Content-Type\": \"application/json; charset=utf-8\",\n            }\n        })\n        .then(response => response.json())\n        .then(data => { \n          // console.log(data);          \n          //console.log(\"coordinates\",this.state.coordinates)\n          this.setState({ reports: data})\n          this.setCoordinates();\n        });\n    }\n  }\n  \n\n  setCoordinates(){    \n    if(this.state.address !== \"\"){             \n        //fetch(`https://maps.googleapis.com/maps/api/geocode/json?key=${process.env.NEXT_PUBLIC_GOOGLE_MAPS_BOOTSTRAP_URL}&address=${this.state.address}`,{\n        fetch(`https://maps.googleapis.com/maps/api/geocode/json?key=AIzaSyBe7_ta_1zNod6CsCJI6ssWk64kyO14HZo&address=${this.state.address}`,{\n            method: \"GET\",\n            dataType: \"JSON\",\n            // headers: {\n            //   \"Content-Type\": \"application/json; charset=utf-8\",\n            // }\n        })\n        .then(response => response.json())\n        .then(data => {           \n          this.setState({ coordinates: {lat: data.results[0].geometry.location.lat, lng: data.results[0].geometry.location.lng}});          \n        });\n    }\n  }\n\nrender() {\n\n  return (\n    \n    <div>\n      <h1>Enter your Address: {this.state.answer}</h1>\n      <input value={this.state.address} onChange={this.setAddress}></input>\n      <button onClick={this.findRepresentatives}>Find</button>\n      <RepresentativesByName json_input = {this.state.reports}/>\n      <Coordinates coordinates = {this.state.coordinates}/>      \n      \n    </div>\n\n  );\n}\n}\n\nexport default RepresentativeSearch;"]},"metadata":{},"sourceType":"module"}