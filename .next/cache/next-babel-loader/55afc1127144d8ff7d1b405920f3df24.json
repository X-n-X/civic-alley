{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useContext } from 'react';\nimport GoogleMapReact from 'google-map-react';\nimport { MapMarker } from 'components/MapMarker';\nimport { MapMarkersContext } from 'components/MapMarkersContext';\nimport config from './mapConfig';\n\nfunction getMapOptions() {\n  return config;\n}\n\nfunction getCenter(center) {\n  if (center == \"\") return {\n    lat: 40.635,\n    lng: -73.94\n  };else return center;\n}\n\nfunction setCoordinates(address) {\n  var _this = this;\n\n  if (address !== \"\") {\n    //fetch(`https://maps.googleapis.com/maps/api/geocode/json?key=${process.env.NEXT_PUBLIC_GOOGLE_MAPS_BOOTSTRAP_URL}&address=${this.state.address}`,{\n    fetch(\"https://maps.googleapis.com/maps/api/geocode/json?key=AIzaSyBe7_ta_1zNod6CsCJI6ssWk64kyO14HZo&address=\".concat(this.state.address), {\n      method: \"GET\",\n      dataType: \"JSON\" // headers: {\n      //   \"Content-Type\": \"application/json; charset=utf-8\",\n      // }\n\n    }).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      _this.setState({\n        coordinates: {\n          lat: data.results[0].geometry.location.lat,\n          lng: data.results[0].geometry.location.lng\n        }\n      });\n    });\n  }\n}\n\nexport function GoogleMap() {\n  var _useContext = useContext(MapMarkersContext),\n      markers = _useContext.markers;\n\n  return __jsx(\"div\", {\n    className: \"google-map-container\"\n  }, __jsx(\"br\", null), __jsx(\"label\", {\n    \"for\": \"address\"\n  }, \"Enter address\"), __jsx(\"input\", {\n    name: \"address\",\n    onChange: setCoordinates(value)\n  }), __jsx(GoogleMapReact, {\n    bootstrapURLKeys: {\n      key: \"AIzaSyBe7_ta_1zNod6CsCJI6ssWk64kyO14HZo\"\n    } //bootstrapURLKeys={{ key: process.env.NEXT_PUBLIC_GOOGLE_MAPS_BOOTSTRAP_URL }}\n    ,\n    defaultCenter: getCenter(\"\"),\n    defaultZoom: 13,\n    options: getMapOptions\n  }, markers.map(function (item) {\n    return __jsx(MapMarker, {\n      key: item.key //text={item.name}            \n      ,\n      lat: item.coordinates.lat,\n      lng: item.coordinates.lng,\n      site_info: item.site_info\n    });\n  })));\n}","map":null,"metadata":{},"sourceType":"module"}