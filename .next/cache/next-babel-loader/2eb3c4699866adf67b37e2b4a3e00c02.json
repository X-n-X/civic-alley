{"ast":null,"code":"var _jsxFileName = \"/Users/benjamingordon/Documents/X&X/townie/components/GoogleMap/index.jsx\";\nvar __jsx = React.createElement;\nimport React, { useContext, useState, useEffect } from 'react';\nimport GoogleMapReact from 'google-map-react';\nimport useSwr from 'swr';\nimport { MapMarker } from 'components/MapMarker';\nimport { MapMarkersContext } from 'components/MapMarkersContext';\nimport config from './mapConfig';\n\nconst fetcher = (...args) => fetch(...args).then(res => res.json());\n\nfunction getMapOptions() {\n  return config;\n}\n\nfunction changeCenter(address) {\n  console.log(\"address\", address);\n\n  if (address !== \"\") {\n    fetch(`https://maps.googleapis.com/maps/api/geocode/json?key=AIzaSyBe7_ta_1zNod6CsCJI6ssWk64kyO14HZo&address=${address}`, {\n      method: \"GET\",\n      dataType: \"JSON\"\n    }).then(response => response.json()).then(data => {\n      return {\n        lat: data.results[0].geometry.location.lat,\n        lng: data.results[0].geometry.location.lng\n      };\n    });\n  }\n}\n\nexport function GoogleMap() {\n  const {\n    markers\n  } = useContext(MapMarkersContext);\n  const {\n    0: newAddress,\n    1: setNewAddress\n  } = useState(\"\");\n  const {\n    0: center,\n    1: setCenter\n  } = useState({\n    lat: 40.635,\n    lng: -73.94\n  });\n  useEffect(() => {\n    if (newAddress !== \"\") {\n      fetch(`https://maps.googleapis.com/maps/api/geocode/json?key=AIzaSyBe7_ta_1zNod6CsCJI6ssWk64kyO14HZo&address=${newAddress}`, {\n        method: \"GET\",\n        dataType: \"JSON\"\n      }).then(response => response.json()).then(data => {\n        setCenter({\n          lat: data.results[0].geometry.location.lat,\n          lng: data.results[0].geometry.location.lng\n        });\n      });\n    }\n  });\n  return __jsx(\"div\", {\n    className: \"google-map-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, __jsx(\"input\", {\n    id: \"address\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 8\n    }\n  }), __jsx(\"button\", {\n    onClick: () => setNewAddress(document.getElementById('address').value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 8\n    }\n  }, \"Change Center\"), __jsx(GoogleMapReact, {\n    bootstrapURLKeys: {\n      key: \"AIzaSyBe7_ta_1zNod6CsCJI6ssWk64kyO14HZo\"\n    } //bootstrapURLKeys={{ key: process.env.NEXT_PUBLIC_GOOGLE_MAPS_BOOTSTRAP_URL }}\n    ,\n    center: center,\n    defaultZoom: 13,\n    options: getMapOptions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, markers.map(item => __jsx(MapMarker, {\n    key: item.key //text={item.name}            \n    ,\n    lat: item.coordinates.lat,\n    lng: item.coordinates.lng,\n    output_key: item.output_key,\n    name: item.name // coordinates = {item.coordinates}      \n    ,\n    site_info: item.site_info,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }))));\n}","map":{"version":3,"sources":["/Users/benjamingordon/Documents/X&X/townie/components/GoogleMap/index.jsx"],"names":["React","useContext","useState","useEffect","GoogleMapReact","useSwr","MapMarker","MapMarkersContext","config","fetcher","args","fetch","then","res","json","getMapOptions","changeCenter","address","console","log","method","dataType","response","data","lat","results","geometry","location","lng","GoogleMap","markers","newAddress","setNewAddress","center","setCenter","document","getElementById","value","key","map","item","coordinates","output_key","name","site_info"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\r\nimport GoogleMapReact from 'google-map-react';\r\nimport useSwr from 'swr';\r\n\r\nimport { MapMarker } from 'components/MapMarker';\r\nimport { MapMarkersContext } from 'components/MapMarkersContext';\r\n\r\nimport config from './mapConfig';\r\n\r\nconst fetcher = (...args) => fetch(...args).then(res => res.json());\r\n\r\nfunction getMapOptions() {\r\n  return config;\r\n}\r\n\r\nfunction changeCenter(address){\r\n  console.log(\"address\",address)\r\n  if(address !== \"\"){                   \r\n      fetch(`https://maps.googleapis.com/maps/api/geocode/json?key=AIzaSyBe7_ta_1zNod6CsCJI6ssWk64kyO14HZo&address=${address}`,{\r\n          method: \"GET\",\r\n          dataType: \"JSON\",\r\n      })\r\n      .then(response => response.json())\r\n      .then(data => {           \r\n        return {lat: data.results[0].geometry.location.lat, lng: data.results[0].geometry.location.lng}; \r\n      });\r\n  }\r\n}\r\n\r\nexport function GoogleMap() {  \r\n  const { markers } = useContext(MapMarkersContext);    \r\n  const [newAddress, setNewAddress] = useState(\"\");\r\n  const [center, setCenter] = useState({lat: 40.635,lng: -73.94});\r\n\r\n  useEffect(() => {        \r\n    if(newAddress !== \"\"){\r\n    fetch(`https://maps.googleapis.com/maps/api/geocode/json?key=AIzaSyBe7_ta_1zNod6CsCJI6ssWk64kyO14HZo&address=${newAddress}`,{\r\n          method: \"GET\",\r\n          dataType: \"JSON\",\r\n      })\r\n      .then(response => response.json())\r\n      .then(data => {           \r\n        setCenter({lat: data.results[0].geometry.location.lat, lng: data.results[0].geometry.location.lng}); \r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  return (\r\n    <div className=\"google-map-container\">            \r\n      {<input id=\"address\"></input>}\r\n      {<button onClick={() => setNewAddress(document.getElementById('address').value)}>Change Center</button>}      \r\n      <GoogleMapReact\r\n        bootstrapURLKeys={{ key: \"AIzaSyBe7_ta_1zNod6CsCJI6ssWk64kyO14HZo\" }}\r\n        //bootstrapURLKeys={{ key: process.env.NEXT_PUBLIC_GOOGLE_MAPS_BOOTSTRAP_URL }}\r\n        center={center}\r\n        defaultZoom={13}\r\n        options={getMapOptions}\r\n      >\r\n       {markers.map((item) => (\r\n          <MapMarker\r\n            key={item.key}\r\n            //text={item.name}            \r\n            lat={ item.coordinates.lat}\r\n            lng={ item.coordinates.lng}\r\n            output_key = {item.output_key}            \r\n            name = {item.name}\r\n            // coordinates = {item.coordinates}      \r\n            site_info= {item.site_info}             \r\n          />\r\n        ))}\r\n      </GoogleMapReact>      \r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}