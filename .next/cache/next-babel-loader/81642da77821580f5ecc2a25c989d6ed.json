{"ast":null,"code":"var _jsxFileName = \"/Users/benjamingordon/Documents/X&X/townie/pages/covid-testing-sites/index.jsx\";\nvar __jsx = React.createElement;\nimport React, { useEffect } from 'react';\nimport useSwr from 'swr';\nimport { MapMarkersContext } from 'components/MapMarkersContext';\nimport { getLayout } from 'components/MapLayout';\n\nconst fetcher = (...args) => fetch(...args).then(res => res.json());\n\nconst TestingSites = ({\n  data\n}) => __jsx(\"div\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 3\n  }\n}, data.map((value, idx) => __jsx(\"p\", {\n  key: idx,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 32\n  }\n}, \"Address: \", value.address, \" \", __jsx(\"br\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 34\n  }\n}), \"You are \", value.appointment_required ? 'required' : 'not required', \" to have an appointment to get tested.\", __jsx(\"br\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 113\n  }\n}), \"This testing site \", value.antibody_testing ? 'provides' : 'does not provide', \" antibody testing. \", __jsx(\"br\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 104\n  }\n}), \"Hours: \", __jsx(\"br\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 16\n  }\n}), value.sunday ? `Sunday: ${value.sunday}` : '', value.sunday ? __jsx(\"br\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 72\n  }\n}) : '', value.monday ? `Monday: ${value.monday}` : '', value.monday ? __jsx(\"br\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 72\n  }\n}) : '', value.tuesday ? `Tuesday: ${value.tuesday}` : '', value.tuesday ? __jsx(\"br\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 76\n  }\n}) : '', value.wednesday ? `Wednesday: ${value.wednesday}` : '', value.wednesday ? __jsx(\"br\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 84\n  }\n}) : '', value.thursday ? `Thursday: ${value.thursday}` : '', value.thursday ? __jsx(\"br\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 80\n  }\n}) : '', value.friday ? `Friday: ${value.friday}` : '', value.friday ? __jsx(\"br\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 72\n  }\n}) : '', value.saturday ? `Saturday: ${value.saturday}` : '', value.saturday ? __jsx(\"br\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 80\n  }\n}) : '', value.site_name ? `Additional Information:: ${value.additional_info}` : '', value.additional_info ? __jsx(\"br\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 110\n  }\n}) : '', \"URL: \", __jsx(\"a\", {\n  href: value.provider_url,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 14\n  }\n}, value.provider_url), \" \") // additional_info: \"Urgent Care Clinic\"\n// address: \"633 Driggs Ave., Brooklyn, NY 11211\"\n// antibody_testing: true\n// appointment_required: false\n// coordinates: {lat: 40.7150681, lng: -73.9583843}\n// friday: \"8AM-8PM\"\n// monday: \"8AM-8PM\"\n// phone: \"(347) 987-4144\"\n// provider_url: \"http://www.umdcare.com\"\n// saturday: \"8AM-7PM\"\n// screening_required: true\n// site_name: \"UMD Urgent Care - Williamsburg\"\n// sunday: \"9AM-6PM\"\n// thursday: \"8AM-8PM\"\n// tuesday: \"8AM-8PM\"\n// wednesday: \"8AM-8PM\"\n));\n\nfunction CovidTestingSitesPage() {\n  const {\n    setState: setMapMarkers\n  } = React.useContext(MapMarkersContext);\n  const {\n    data,\n    error\n  } = useSwr('/api/testing-sites', fetcher);\n\n  if (error) {\n    console.error('Error loading data from API for /api/testing-sites: ', error);\n  }\n\n  useEffect(() => {\n    const formattedData = (data || []).map(site => ({\n      key: `${site.site_name}+${site.coordinates.lat}+${site.coordinates.lng}`,\n      output_key: `${site.site_name}+${site.coordinates.lat}+${site.coordinates.lng}`,\n      name: site.site_name,\n      site_info: {\n        name: site.site_name,\n        provider_url: site.provider_url,\n        additional_info: site.additional_info,\n        address: site.address,\n        phone: site.phone,\n        monday: site.monday,\n        tuesday: site.tuesday,\n        wednesday: site.wednesday,\n        thursday: site.thursday,\n        friday: site.friday,\n        saturday: site.saturday,\n        sunday: site.sunday,\n        screening_required: site.screening_required,\n        appointment_required: site.appointment_required,\n        antibody_testing: site.antibody_testing\n      },\n      coordinates: {\n        lat: site.coordinates.lat,\n        lng: site.coordinates.lng\n      }\n    })); //console.log(\"formattedData\",formattedData);\n\n    setMapMarkers(formattedData);\n    return () => {\n      setMapMarkers([]);\n    };\n  }, [data, setMapMarkers]);\n  console.log(\"data\", data);\n  return __jsx(\"div\", {\n    className: \"sidebar-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }\n  }, error && 'Error loading content', !data && !error && 'Loading...', !error && data && __jsx(TestingSites, {\n    data: data,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 26\n    }\n  }));\n}\n\nCovidTestingSitesPage.getLayout = getLayout;\nexport default CovidTestingSitesPage;","map":{"version":3,"sources":["/Users/benjamingordon/Documents/X&X/townie/pages/covid-testing-sites/index.jsx"],"names":["React","useEffect","useSwr","MapMarkersContext","getLayout","fetcher","args","fetch","then","res","json","TestingSites","data","map","value","idx","address","appointment_required","antibody_testing","sunday","monday","tuesday","wednesday","thursday","friday","saturday","site_name","additional_info","provider_url","CovidTestingSitesPage","setState","setMapMarkers","useContext","error","console","formattedData","site","key","coordinates","lat","lng","output_key","name","site_info","phone","screening_required","log"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\r\nimport useSwr from 'swr';\r\n\r\nimport { MapMarkersContext } from 'components/MapMarkersContext';\r\nimport { getLayout } from 'components/MapLayout';\r\n\r\nconst fetcher = (...args) => fetch(...args).then(res => res.json());\r\n\r\nconst TestingSites = ({ data }) => (  \r\n  <div>\r\n    {\r\n      data.map((value, idx) => <p key={idx}>\r\n                \r\n        Address: {value.address} <br></br>         \r\n        You are {value.appointment_required ? 'required' : 'not required'} to have an appointment to get tested.<br></br>\r\n        This testing site {value.antibody_testing ? 'provides' : 'does not provide'} antibody testing. <br></br>        \r\n        Hours: <br></br>\r\n        {value.sunday ? `Sunday: ${value.sunday}` : ''}{value.sunday ? <br></br> : ''}\r\n        {value.monday ? `Monday: ${value.monday}` : ''}{value.monday ? <br></br> : ''}\r\n        {value.tuesday ? `Tuesday: ${value.tuesday}` : ''}{value.tuesday ? <br></br> : ''}\r\n        {value.wednesday ? `Wednesday: ${value.wednesday}` : ''}{value.wednesday ? <br></br> : ''}\r\n        {value.thursday ? `Thursday: ${value.thursday}` : ''}{value.thursday ? <br></br> : ''}\r\n        {value.friday ? `Friday: ${value.friday}` : ''}{value.friday ? <br></br> : ''}\r\n        {value.saturday ? `Saturday: ${value.saturday}` : ''}{value.saturday ? <br></br> : ''}\r\n        {value.site_name ? `Additional Information:: ${value.additional_info}` : ''}{value.additional_info ? <br></br> : ''}\r\n        URL: <a href = {value.provider_url}>{value.provider_url}</a> </p>\r\n        // additional_info: \"Urgent Care Clinic\"\r\n        // address: \"633 Driggs Ave., Brooklyn, NY 11211\"\r\n        // antibody_testing: true\r\n        // appointment_required: false\r\n        // coordinates: {lat: 40.7150681, lng: -73.9583843}\r\n        // friday: \"8AM-8PM\"\r\n        // monday: \"8AM-8PM\"\r\n        // phone: \"(347) 987-4144\"\r\n        // provider_url: \"http://www.umdcare.com\"\r\n        // saturday: \"8AM-7PM\"\r\n        // screening_required: true\r\n        // site_name: \"UMD Urgent Care - Williamsburg\"\r\n        // sunday: \"9AM-6PM\"\r\n        // thursday: \"8AM-8PM\"\r\n        // tuesday: \"8AM-8PM\"\r\n        // wednesday: \"8AM-8PM\"\r\n        )\r\n      \r\n    }\r\n  </div>\r\n);\r\n\r\nfunction CovidTestingSitesPage() {\r\n  const { setState: setMapMarkers } = React.useContext(MapMarkersContext);    \r\n  const { data, error } = useSwr('/api/testing-sites', fetcher);\r\n  if (error) {\r\n    console.error('Error loading data from API for /api/testing-sites: ', error);\r\n  }    \r\n\r\n  useEffect(() => {\r\n    const formattedData = (data || []).map((site) => ({\r\n      key: `${site.site_name}+${site.coordinates.lat}+${site.coordinates.lng}`,\r\n      output_key: `${site.site_name}+${site.coordinates.lat}+${site.coordinates.lng}`,\r\n      name: site.site_name,   \r\n      site_info: {\r\n        name: site.site_name, \r\n        provider_url: site.provider_url,\r\n        additional_info: site.additional_info,\r\n        address: site.address,\r\n        phone: site.phone,\r\n        monday: site.monday,\r\n        tuesday: site.tuesday,\r\n        wednesday: site.wednesday,\r\n        thursday: site.thursday,\r\n        friday: site.friday,\r\n        saturday: site.saturday,\r\n        sunday: site.sunday,\r\n        screening_required: site.screening_required,\r\n        appointment_required: site.appointment_required,\r\n        antibody_testing: site.antibody_testing, \r\n      },                   \r\n      coordinates: {\r\n        lat: site.coordinates.lat,\r\n        lng: site.coordinates.lng,\r\n      },\r\n    }));\r\n    //console.log(\"formattedData\",formattedData);\r\n    setMapMarkers(formattedData);\r\n\r\n    return () => {\r\n      setMapMarkers([]);\r\n    }\r\n  }, [data, setMapMarkers]);\r\n\r\n  console.log(\"data\",data)\r\n\r\n  return (\r\n    <div className=\"sidebar-content\">\r\n      {error && 'Error loading content'}\r\n      {!data && !error && 'Loading...'}\r\n      {/* {!error && data && \"yo yo\"} */}\r\n      {!error && data && <TestingSites data = {data}/>}\r\n    </div>\r\n  );\r\n\r\n}\r\n\r\nCovidTestingSitesPage.getLayout = getLayout;\r\n\r\nexport default CovidTestingSitesPage;\r\n"]},"metadata":{},"sourceType":"module"}