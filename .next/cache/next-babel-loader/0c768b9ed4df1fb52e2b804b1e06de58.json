{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Users/benjamingordon/Documents/X&X/townie/pages/covid-testing-sites/index.jsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useEffect } from 'react';\nimport useSwr from 'swr';\nimport { MapMarkersContext } from 'components/MapMarkersContext';\nimport { getLayout } from 'components/MapLayout';\n\nvar fetcher = function fetcher() {\n  return fetch.apply(void 0, arguments).then(function (res) {\n    return res.json();\n  });\n};\n\nvar TestingSites = function TestingSites(_ref) {\n  var data = _ref.data;\n  return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 3\n    }\n  }, data.map(function (value, idx) {\n    return __jsx(\"p\", {\n      key: idx,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 32\n      }\n    }, \"Address: \", value.address, \" \", __jsx(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 34\n      }\n    }), value.phone ? \"Phone Number: \".concat(value.phone) : '', value.phone ? __jsx(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 75\n      }\n    }) : '', \"You are \", value.appointment_required ? 'required' : 'not required', \" to have an appointment to get tested.\", __jsx(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 113\n      }\n    }), \"This testing site \", value.antibody_testing ? 'provides' : 'does not provide', \" antibody testing. \", __jsx(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 104\n      }\n    }), \"Hours: \", __jsx(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 16\n      }\n    }), value.sunday ? \"Sunday: \".concat(value.sunday) : '', value.sunday ? __jsx(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 72\n      }\n    }) : '', value.monday ? \"Monday: \".concat(value.monday) : '', value.monday ? __jsx(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 72\n      }\n    }) : '', value.tuesday ? \"Tuesday: \".concat(value.tuesday) : '', value.tuesday ? __jsx(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 76\n      }\n    }) : '', value.wednesday ? \"Wednesday: \".concat(value.wednesday) : '', value.wednesday ? __jsx(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 84\n      }\n    }) : '', value.thursday ? \"Thursday: \".concat(value.thursday) : '', value.thursday ? __jsx(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 80\n      }\n    }) : '', value.friday ? \"Friday: \".concat(value.friday) : '', value.friday ? __jsx(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 72\n      }\n    }) : '', value.saturday ? \"Saturday: \".concat(value.saturday) : '', value.saturday ? __jsx(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 80\n      }\n    }) : '', value.site_name !== undefined ? \"Additional Information: \".concat(value.additional_info) : '', value.additional_info ? __jsx(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 121\n      }\n    }) : '', value.provider_url ? \"URL: \".concat(__jsx(\"a\", {\n      href: value.provider_url,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 39\n      }\n    }, value.provider_url)) : '');\n  } // additional_info: \"Urgent Care Clinic\"\n  // address: \"633 Driggs Ave., Brooklyn, NY 11211\"\n  // antibody_testing: true\n  // appointment_required: false\n  // coordinates: {lat: 40.7150681, lng: -73.9583843}\n  // friday: \"8AM-8PM\"\n  // monday: \"8AM-8PM\"\n  // phone: \"(347) 987-4144\"\n  // provider_url: \"http://www.umdcare.com\"\n  // saturday: \"8AM-7PM\"\n  // screening_required: true\n  // site_name: \"UMD Urgent Care - Williamsburg\"\n  // sunday: \"9AM-6PM\"\n  // thursday: \"8AM-8PM\"\n  // tuesday: \"8AM-8PM\"\n  // wednesday: \"8AM-8PM\"\n  ));\n};\n\n_c = TestingSites;\n\nfunction CovidTestingSitesPage() {\n  _s();\n\n  var _React$useContext = React.useContext(MapMarkersContext),\n      setMapMarkers = _React$useContext.setState;\n\n  var _useSwr = useSwr('/api/testing-sites', fetcher),\n      data = _useSwr.data,\n      error = _useSwr.error;\n\n  if (error) {\n    console.error('Error loading data from API for /api/testing-sites: ', error);\n  }\n\n  useEffect(function () {\n    var formattedData = (data || []).map(function (site) {\n      return {\n        key: \"\".concat(site.site_name, \"+\").concat(site.coordinates.lat, \"+\").concat(site.coordinates.lng),\n        output_key: \"\".concat(site.site_name, \"+\").concat(site.coordinates.lat, \"+\").concat(site.coordinates.lng),\n        name: site.site_name,\n        site_info: {\n          name: site.site_name,\n          provider_url: site.provider_url,\n          additional_info: site.additional_info,\n          address: site.address,\n          phone: site.phone,\n          monday: site.monday,\n          tuesday: site.tuesday,\n          wednesday: site.wednesday,\n          thursday: site.thursday,\n          friday: site.friday,\n          saturday: site.saturday,\n          sunday: site.sunday,\n          screening_required: site.screening_required,\n          appointment_required: site.appointment_required,\n          antibody_testing: site.antibody_testing\n        },\n        coordinates: {\n          lat: site.coordinates.lat,\n          lng: site.coordinates.lng\n        }\n      };\n    }); //console.log(\"formattedData\",formattedData);\n\n    setMapMarkers(formattedData);\n    return function () {\n      setMapMarkers([]);\n    };\n  }, [data, setMapMarkers]);\n  console.log(\"data\", data);\n  return __jsx(\"div\", {\n    className: \"sidebar-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 5\n    }\n  }, error && 'Error loading content', !data && !error && 'Loading...', !error && data && __jsx(TestingSites, {\n    data: data,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 26\n    }\n  }));\n}\n\n_s(CovidTestingSitesPage, \"4XOVNxxC375nAunT48kTk7Pt1E0=\", false, function () {\n  return [useSwr];\n});\n\n_c2 = CovidTestingSitesPage;\nCovidTestingSitesPage.getLayout = getLayout;\nexport default CovidTestingSitesPage;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"TestingSites\");\n$RefreshReg$(_c2, \"CovidTestingSitesPage\");","map":{"version":3,"sources":["/Users/benjamingordon/Documents/X&X/townie/pages/covid-testing-sites/index.jsx"],"names":["React","useEffect","useSwr","MapMarkersContext","getLayout","fetcher","fetch","then","res","json","TestingSites","data","map","value","idx","address","phone","appointment_required","antibody_testing","sunday","monday","tuesday","wednesday","thursday","friday","saturday","site_name","undefined","additional_info","provider_url","CovidTestingSitesPage","useContext","setMapMarkers","setState","error","console","formattedData","site","key","coordinates","lat","lng","output_key","name","site_info","screening_required","log"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\r\nimport useSwr from 'swr';\r\n\r\nimport { MapMarkersContext } from 'components/MapMarkersContext';\r\nimport { getLayout } from 'components/MapLayout';\r\n\r\nconst fetcher = (...args) => fetch(...args).then(res => res.json());\r\n\r\nconst TestingSites = ({ data }) => (  \r\n  <div>\r\n    {\r\n      data.map((value, idx) => <p key={idx}>\r\n                \r\n        Address: {value.address} <br></br> \r\n        {value.phone ? `Phone Number: ${value.phone}` : ''}{value.phone ? <br></br> : ''}\r\n        You are {value.appointment_required ? 'required' : 'not required'} to have an appointment to get tested.<br></br>\r\n        This testing site {value.antibody_testing ? 'provides' : 'does not provide'} antibody testing. <br></br>        \r\n        Hours: <br></br>\r\n        {value.sunday ? `Sunday: ${value.sunday}` : ''}{value.sunday ? <br></br> : ''}\r\n        {value.monday ? `Monday: ${value.monday}` : ''}{value.monday ? <br></br> : ''}\r\n        {value.tuesday ? `Tuesday: ${value.tuesday}` : ''}{value.tuesday ? <br></br> : ''}\r\n        {value.wednesday ? `Wednesday: ${value.wednesday}` : ''}{value.wednesday ? <br></br> : ''}\r\n        {value.thursday ? `Thursday: ${value.thursday}` : ''}{value.thursday ? <br></br> : ''}\r\n        {value.friday ? `Friday: ${value.friday}` : ''}{value.friday ? <br></br> : ''}\r\n        {value.saturday ? `Saturday: ${value.saturday}` : ''}{value.saturday ? <br></br> : ''}\r\n        {value.site_name!==undefined ? `Additional Information: ${value.additional_info}` : ''}{value.additional_info ? <br></br> : ''}         \r\n        {value.provider_url ? `URL: ${<a href = {value.provider_url}>{value.provider_url}</a>}` : ''}</p>\r\n        // additional_info: \"Urgent Care Clinic\"\r\n        // address: \"633 Driggs Ave., Brooklyn, NY 11211\"\r\n        // antibody_testing: true\r\n        // appointment_required: false\r\n        // coordinates: {lat: 40.7150681, lng: -73.9583843}\r\n        // friday: \"8AM-8PM\"\r\n        // monday: \"8AM-8PM\"\r\n        // phone: \"(347) 987-4144\"\r\n        // provider_url: \"http://www.umdcare.com\"\r\n        // saturday: \"8AM-7PM\"\r\n        // screening_required: true\r\n        // site_name: \"UMD Urgent Care - Williamsburg\"\r\n        // sunday: \"9AM-6PM\"\r\n        // thursday: \"8AM-8PM\"\r\n        // tuesday: \"8AM-8PM\"\r\n        // wednesday: \"8AM-8PM\"\r\n        )\r\n      \r\n    }\r\n  </div>\r\n);\r\n\r\nfunction CovidTestingSitesPage() {\r\n  const { setState: setMapMarkers } = React.useContext(MapMarkersContext);    \r\n  const { data, error } = useSwr('/api/testing-sites', fetcher);\r\n  if (error) {\r\n    console.error('Error loading data from API for /api/testing-sites: ', error);\r\n  }    \r\n\r\n  useEffect(() => {\r\n    const formattedData = (data || []).map((site) => ({\r\n      key: `${site.site_name}+${site.coordinates.lat}+${site.coordinates.lng}`,\r\n      output_key: `${site.site_name}+${site.coordinates.lat}+${site.coordinates.lng}`,\r\n      name: site.site_name,   \r\n      site_info: {\r\n        name: site.site_name, \r\n        provider_url: site.provider_url,\r\n        additional_info: site.additional_info,\r\n        address: site.address,\r\n        phone: site.phone,\r\n        monday: site.monday,\r\n        tuesday: site.tuesday,\r\n        wednesday: site.wednesday,\r\n        thursday: site.thursday,\r\n        friday: site.friday,\r\n        saturday: site.saturday,\r\n        sunday: site.sunday,\r\n        screening_required: site.screening_required,\r\n        appointment_required: site.appointment_required,\r\n        antibody_testing: site.antibody_testing, \r\n      },                   \r\n      coordinates: {\r\n        lat: site.coordinates.lat,\r\n        lng: site.coordinates.lng,\r\n      },\r\n    }));\r\n    //console.log(\"formattedData\",formattedData);\r\n    setMapMarkers(formattedData);\r\n\r\n    return () => {\r\n      setMapMarkers([]);\r\n    }\r\n  }, [data, setMapMarkers]);\r\n\r\n  console.log(\"data\",data)\r\n\r\n  return (\r\n    <div className=\"sidebar-content\">\r\n      {error && 'Error loading content'}\r\n      {!data && !error && 'Loading...'}\r\n      {/* {!error && data && \"yo yo\"} */}\r\n      {!error && data && <TestingSites data = {data}/>}\r\n    </div>\r\n  );\r\n\r\n}\r\n\r\nCovidTestingSitesPage.getLayout = getLayout;\r\n\r\nexport default CovidTestingSitesPage;\r\n"]},"metadata":{},"sourceType":"module"}