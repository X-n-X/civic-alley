{"ast":null,"code":"var _jsxFileName = \"/Users/benjamingordon/Documents/X&X/townie/pages/community-orgs/index.jsx\";\nvar __jsx = React.createElement;\nimport React, { useEffect } from 'react';\nimport useSwr from 'swr';\nimport { MapMarkersContext } from 'components/MapMarkersContext';\nimport { getLayout } from 'components/MapLayout';\n\nconst fetcher = (...args) => fetch(...args).then(res => res.json()); //this is the data for the side of the map. however, it should only show up on click.\n//will have to figure out how to do context to pass onClick so that it will show up\n\n\nconst CommunityOrg = ({\n  data\n}) => __jsx(\"div\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 3\n  }\n}, data.filter(item => item.site_name === \"StreetRidersNYC\") //filtering the data here. but we want it to filter to just the item that's clicked.\n.map((value, idx) => __jsx(\"p\", {\n  key: idx,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 30\n  }\n}, value.sunday ? `Name: ${value.site_name}` : '', value.site_name ? __jsx(\"br\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 76\n  }\n}) : '', \"Address: \", value.address, \" \", __jsx(\"br\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 34\n  }\n}), value.type ? `Type: ${value.type}` : '', value.type ? __jsx(\"br\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 64\n  }\n}) : '', value.purpose_neighborhood_associated_with ? `Purpose\tNeighborhood Associated With: ${value.purpose_neighborhood_associated_with}` : '', value.purpose_neighborhood_associated_with ? __jsx(\"br\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 192\n  }\n}) : '', value.website_contact_info ? `Website Contact Info: ${value.website_contact_info}` : '', value.website_contact_info ? __jsx(\"br\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 127\n  }\n}) : '')));\n\nfunction CommunityOrgsPage() {\n  const {\n    setState: setMapMarkers\n  } = React.useContext(MapMarkersContext);\n  const {\n    data,\n    error\n  } = useSwr('/api/community-orgs', fetcher);\n\n  if (error) {\n    console.error('Error loading data from API for /api/community-orgs: ', error);\n  }\n\n  useEffect(() => {\n    const formattedData = (data || []).map(site => ({\n      key: `${site.site_name}+${site.coordinates.lat}+${site.coordinates.lng}`,\n      output_key: `${site.site_name}+${site.coordinates.lat}+${site.coordinates.lng}`,\n      name: site.name,\n      site_info: {\n        site_name: site.site_name,\n        type: site.Type,\n        purpose_neighborhood_associated_with: site[\"Purpose\tNeighborhood Associated With\"],\n        address: site.Location,\n        website_contact_info: site[\"Website Contact Info\"]\n      },\n      coordinates: {\n        lat: site.coordinates.lat,\n        lng: site.coordinates.lng\n      }\n    })); //console.log(\"formattedData\",formattedData);\n\n    setMapMarkers(formattedData);\n    return () => {\n      setMapMarkers([]);\n    };\n  }, [data, setMapMarkers]);\n  return __jsx(\"div\", {\n    className: \"sidebar-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, error && 'Error loading content', !data && !error && 'Loading...', !error && data && __jsx(CommunityOrg, {\n    data: data,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 26\n    }\n  }));\n}\n\nCommunityOrgsPage.getLayout = getLayout;\nexport default CommunityOrgsPage;","map":{"version":3,"sources":["/Users/benjamingordon/Documents/X&X/townie/pages/community-orgs/index.jsx"],"names":["React","useEffect","useSwr","MapMarkersContext","getLayout","fetcher","args","fetch","then","res","json","CommunityOrg","data","filter","item","site_name","map","value","idx","sunday","address","type","purpose_neighborhood_associated_with","website_contact_info","CommunityOrgsPage","setState","setMapMarkers","useContext","error","console","formattedData","site","key","coordinates","lat","lng","output_key","name","site_info","Type","Location"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,KAAnB;AAEA,SAASC,iBAAT,QAAkC,8BAAlC;AACA,SAASC,SAAT,QAA0B,sBAA1B;;AAEA,MAAMC,OAAO,GAAG,CAAC,GAAGC,IAAJ,KAAaC,KAAK,CAAC,GAAGD,IAAJ,CAAL,CAAeE,IAAf,CAAoBC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAA3B,CAA7B,C,CAEA;AACA;;;AACA,MAAMC,YAAY,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KACnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAEIA,IAAI,CAACC,MAAL,CAAYC,IAAI,IAAEA,IAAI,CAACC,SAAL,KAAiB,iBAAnC,EAAqD;AAArD,CACGC,GADH,CACO,CAACC,KAAD,EAAQC,GAAR,KAAgB;AAAG,EAAA,GAAG,EAAEA,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAEpBD,KAAK,CAACE,MAAN,GAAgB,SAAQF,KAAK,CAACF,SAAU,EAAxC,GAA4C,EAFxB,EAE4BE,KAAK,CAACF,SAAN,GAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAAlB,GAA8B,EAF1D,eAGXE,KAAK,CAACG,OAHK,OAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAHJ,EAIpBH,KAAK,CAACI,IAAN,GAAc,SAAQJ,KAAK,CAACI,IAAK,EAAjC,GAAqC,EAJjB,EAIqBJ,KAAK,CAACI,IAAN,GAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAAb,GAAyB,EAJ9C,EAKpBJ,KAAK,CAACK,oCAAN,GAA8C,yCAAwCL,KAAK,CAACK,oCAAqC,EAAjI,GAAqI,EALjH,EAKqHL,KAAK,CAACK,oCAAN,GAA6C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAA7C,GAAyD,EAL9K,EAMpBL,KAAK,CAACM,oBAAN,GAA6B,yBAAwBN,KAAK,CAACM,oBAAqB,EAAhF,GAAoF,EANhE,EAMoEN,KAAK,CAACM,oBAAN,GAA6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAA7B,GAAyC,EAN7G,CADvB,CAFJ,CADF;;AAiBA,SAASC,iBAAT,GAA6B;AAC3B,QAAM;AAAEC,IAAAA,QAAQ,EAAEC;AAAZ,MAA8B1B,KAAK,CAAC2B,UAAN,CAAiBxB,iBAAjB,CAApC;AACA,QAAM;AAAES,IAAAA,IAAF;AAAQgB,IAAAA;AAAR,MAAkB1B,MAAM,CAAC,qBAAD,EAAwBG,OAAxB,CAA9B;;AACA,MAAIuB,KAAJ,EAAW;AACTC,IAAAA,OAAO,CAACD,KAAR,CAAc,uDAAd,EAAuEA,KAAvE;AACD;;AAED3B,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM6B,aAAa,GAAG,CAAClB,IAAI,IAAI,EAAT,EAAaI,GAAb,CAAkBe,IAAD,KAAW;AAChDC,MAAAA,GAAG,EAAG,GAAED,IAAI,CAAChB,SAAU,IAAGgB,IAAI,CAACE,WAAL,CAAiBC,GAAI,IAAGH,IAAI,CAACE,WAAL,CAAiBE,GAAI,EADvB;AAEhDC,MAAAA,UAAU,EAAG,GAAEL,IAAI,CAAChB,SAAU,IAAGgB,IAAI,CAACE,WAAL,CAAiBC,GAAI,IAAGH,IAAI,CAACE,WAAL,CAAiBE,GAAI,EAF9B;AAGhDE,MAAAA,IAAI,EAAEN,IAAI,CAACM,IAHqC;AAIhDC,MAAAA,SAAS,EAAE;AACTvB,QAAAA,SAAS,EAAEgB,IAAI,CAAChB,SADP;AAETM,QAAAA,IAAI,EAAEU,IAAI,CAACQ,IAFF;AAGTjB,QAAAA,oCAAoC,EAAES,IAAI,CAAC,sCAAD,CAHjC;AAITX,QAAAA,OAAO,EAAEW,IAAI,CAACS,QAJL;AAKTjB,QAAAA,oBAAoB,EAAEQ,IAAI,CAAC,sBAAD;AALjB,OAJqC;AAWhDE,MAAAA,WAAW,EAAE;AACXC,QAAAA,GAAG,EAAEH,IAAI,CAACE,WAAL,CAAiBC,GADX;AAEXC,QAAAA,GAAG,EAAEJ,IAAI,CAACE,WAAL,CAAiBE;AAFX;AAXmC,KAAX,CAAjB,CAAtB,CADc,CAiBd;;AACAT,IAAAA,aAAa,CAACI,aAAD,CAAb;AAEA,WAAO,MAAM;AACXJ,MAAAA,aAAa,CAAC,EAAD,CAAb;AACD,KAFD;AAGD,GAvBQ,EAuBN,CAACd,IAAD,EAAOc,aAAP,CAvBM,CAAT;AAyBA,SACE;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGE,KAAK,IAAI,uBADZ,EAEG,CAAChB,IAAD,IAAS,CAACgB,KAAV,IAAmB,YAFtB,EAIG,CAACA,KAAD,IAAUhB,IAAV,IAAkB,MAAC,YAAD;AAAc,IAAA,IAAI,EAAIA,IAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJrB,CADF;AASD;;AAEDY,iBAAiB,CAACpB,SAAlB,GAA8BA,SAA9B;AAEA,eAAeoB,iBAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport useSwr from 'swr';\n\nimport { MapMarkersContext } from 'components/MapMarkersContext';\nimport { getLayout } from 'components/MapLayout';\n\nconst fetcher = (...args) => fetch(...args).then(res => res.json());\n\n//this is the data for the side of the map. however, it should only show up on click.\n//will have to figure out how to do context to pass onClick so that it will show up\nconst CommunityOrg = ({ data }) => (  \n  <div>\n    {\n      data.filter(item=>item.site_name===\"StreetRidersNYC\")//filtering the data here. but we want it to filter to just the item that's clicked.\n        .map((value, idx) => <p key={idx}>\n\n        {value.sunday ? `Name: ${value.site_name}` : ''}{value.site_name ? <br></br> : ''}        \n        Address: {value.address} <br></br> \n        {value.type ? `Type: ${value.type}` : ''}{value.type ? <br></br> : ''}\n        {value.purpose_neighborhood_associated_with ? `Purpose\tNeighborhood Associated With: ${value.purpose_neighborhood_associated_with}` : ''}{value.purpose_neighborhood_associated_with ? <br></br> : ''}\n        {value.website_contact_info? `Website Contact Info: ${value.website_contact_info}` : ''}{value.website_contact_info ? <br></br> : ''}</p>        \n        )\n      \n    }\n  </div>\n);\n\nfunction CommunityOrgsPage() {\n  const { setState: setMapMarkers } = React.useContext(MapMarkersContext);    \n  const { data, error } = useSwr('/api/community-orgs', fetcher);\n  if (error) {\n    console.error('Error loading data from API for /api/community-orgs: ', error);\n  }    \n\n  useEffect(() => {\n    const formattedData = (data || []).map((site) => ({\n      key: `${site.site_name}+${site.coordinates.lat}+${site.coordinates.lng}`,\n      output_key: `${site.site_name}+${site.coordinates.lat}+${site.coordinates.lng}`,\n      name: site.name,   \n      site_info: {\n        site_name: site.site_name,\n        type: site.Type,\n        purpose_neighborhood_associated_with: site[\"Purpose\tNeighborhood Associated With\"],\n        address: site.Location,\n        website_contact_info: site[\"Website Contact Info\"]\n      },                   \n      coordinates: {\n        lat: site.coordinates.lat,\n        lng: site.coordinates.lng,\n      },\n    }));\n    //console.log(\"formattedData\",formattedData);\n    setMapMarkers(formattedData);\n\n    return () => {\n      setMapMarkers([]);\n    }\n  }, [data, setMapMarkers]);\n\n  return (\n    <div className=\"sidebar-content\">\n      {error && 'Error loading content'}\n      {!data && !error && 'Loading...'}\n      {/* {!error && data && \"data here\"} */}\n      {!error && data && <CommunityOrg data = {data}/>}\n    </div>\n  );\n\n}\n\nCommunityOrgsPage.getLayout = getLayout;\n\nexport default CommunityOrgsPage;\n"]},"metadata":{},"sourceType":"module"}