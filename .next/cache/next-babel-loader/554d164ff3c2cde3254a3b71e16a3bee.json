{"ast":null,"code":"import voting_sites from 'data/voting_sites.json';\nconst columnMap = voting_sites.meta.view.columns.reduce((acc, column, index) => {\n  acc[column.name] = {\n    columnDetails: column,\n    index\n  };\n  return acc;\n}, {});\nconst brooklynSitesFormatted = voting_sites.data.flatMap((site, i) => {\n  if (site[columnMap.BOROUGH.index] === 'BROOKLYN' || site[columnMap.CITY.index] === 'Brooklyn') {\n    return {\n      text: site[columnMap.SITE_NAME.index],\n      lat: site[columnMap.Latitude.index],\n      lng: site[columnMap.Longitude.index],\n      originalIndexInData: i\n    };\n  }\n\n  return [];\n});\nexport default ((req, res) => {\n  res.json(brooklynSitesFormatted);\n});","map":null,"metadata":{},"sourceType":"module"}