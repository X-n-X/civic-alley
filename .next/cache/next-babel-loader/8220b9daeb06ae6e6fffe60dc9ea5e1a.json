{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\n\nvar RepresentativesByName = function RepresentativesByName(_ref) {\n  var json_input = _ref.json_input;\n  return __jsx(\"div\", null, json_input.officials.map(function (value, idx) {\n    return __jsx(\"li\", {\n      key: idx\n    }, value.name);\n  }));\n};\n\nvar Coordinates = function Coordinates(_ref2) {\n  var coordinates = _ref2.coordinates;\n  return __jsx(\"div\", null, \"lat: \" + coordinates.lat + \"\\nlng: \" + coordinates.lng //coordinates.map((value,idx) => <li key={idx}>{value}</li>)       \n  );\n}; // function RepresentativesPage() {\n//   const { setState: setMapMarkers } = React.useContext(MapMarkersContext);\n//   const { data, error } = useSwr('/api/testing-sites', fetcher);\n//   if (error) {\n//     console.error('Error loading data from API for /api/testing-sites: ', error);\n//   }\n//   useEffect(() => {\n//   });\n// }\n\n\nvar RepresentativeSearch = /*#__PURE__*/function (_Component) {\n  _inherits(RepresentativeSearch, _Component);\n\n  var _super = _createSuper(RepresentativeSearch);\n\n  function RepresentativeSearch(props) {\n    var _this;\n\n    _classCallCheck(this, RepresentativeSearch);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      address: \"\",\n      coordinates: {\n        lat: \"\",\n        lng: \"\"\n      },\n      reports: {\n        offices: [\"\"],\n        officials: [\"\"]\n      }\n    };\n    _this.setAddress = _this.setAddress.bind(_assertThisInitialized(_this));\n    _this.setCoordinates = _this.setCoordinates.bind(_assertThisInitialized(_this));\n    _this.findRepresentatives = _this.findRepresentatives.bind(_assertThisInitialized(_this)); // this.state = { isEmptyState: true, isAddTripState: false  }\n    // this.triggerAddTripState = this.triggerAddTripState.bind(this);\n\n    return _this;\n  }\n\n  _createClass(RepresentativeSearch, [{\n    key: \"setAddress\",\n    value: function setAddress(e) {\n      e.preventDefault(); //if(Number(event.target.value) != NaN)\n\n      this.setState({\n        address: e.target.value\n      });\n    }\n  }, {\n    key: \"findRepresentatives\",\n    value: function findRepresentatives(e) {\n      var _this2 = this;\n\n      e.preventDefault();\n\n      if (this.state.address !== \"\") {\n        //fetch(`https://www.googleapis.com/civicinfo/v2/representatives?key=${process.env.NEXT_PUBLIC_GOOGLE_MAPS_BOOTSTRAP_URL}&address=${this.state.address}`,{\n        fetch(\"https://www.googleapis.com/civicinfo/v2/representatives?key=AIzaSyBe7_ta_1zNod6CsCJI6ssWk64kyO14HZo&address=\".concat(this.state.address), {\n          method: \"GET\",\n          dataType: \"JSON\",\n          headers: {\n            \"Content-Type\": \"application/json; charset=utf-8\"\n          }\n        }).then(function (response) {\n          return response.json();\n        }).then(function (data) {\n          // console.log(data);          \n          //console.log(\"coordinates\",this.state.coordinates)\n          _this2.setState({\n            reports: data\n          });\n\n          _this2.setCoordinates();\n        });\n      }\n    }\n  }, {\n    key: \"setCoordinates\",\n    value: function setCoordinates() {\n      var _this3 = this;\n\n      if (this.state.address !== \"\") {\n        //fetch(`https://maps.googleapis.com/maps/api/geocode/json?key=${process.env.NEXT_PUBLIC_GOOGLE_MAPS_BOOTSTRAP_URL}&address=${this.state.address}`,{\n        fetch(\"https://maps.googleapis.com/maps/api/geocode/json?key=AIzaSyBe7_ta_1zNod6CsCJI6ssWk64kyO14HZo&address=\".concat(this.state.address), {\n          method: \"GET\",\n          dataType: \"JSON\" // headers: {\n          //   \"Content-Type\": \"application/json; charset=utf-8\",\n          // }\n\n        }).then(function (response) {\n          return response.json();\n        }).then(function (data) {\n          console.log(\"data\", data);\n\n          _this3.setState({\n            coordinates: {\n              lat: data.results[0].geometry.location.lat,\n              lng: data.results[0].geometry.location.lng\n            }\n          });\n\n          console.log(\"coordinates\", _this3.state.coordinates);\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // var representatives = \"\";\n      // if(!this.state.reports == []){\n      //   representatives = <RepresentativesByName json_input = {this.state.reports}/>;\n      // }\n      return __jsx(\"div\", null, __jsx(\"h1\", null, \"Enter your Address: \", this.state.answer), __jsx(\"input\", {\n        value: this.state.address,\n        onChange: this.setAddress\n      }), __jsx(\"button\", {\n        onClick: this.findRepresentatives\n      }, \"Find\"), __jsx(RepresentativesByName, {\n        json_input: this.state.reports\n      }), __jsx(Coordinates, {\n        coordinates: this.state.coordinates\n      }));\n    }\n  }]);\n\n  return RepresentativeSearch;\n}(Component);\n\nexport default RepresentativeSearch;","map":null,"metadata":{},"sourceType":"module"}