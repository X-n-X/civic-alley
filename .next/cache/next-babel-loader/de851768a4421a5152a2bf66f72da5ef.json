{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Users/benjamingordon/Documents/X&X/townie/pages/covid-testing-sites/[testing-site].jsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport { useRouter } from 'next/router';\nimport { MapMarkersContext } from 'components/MapMarkersContext';\nimport useSwr from 'swr';\n\nvar fetcher = function fetcher() {\n  return fetch.apply(void 0, arguments).then(function (res) {\n    return res.json();\n  });\n};\n\nvar Post = function Post() {\n  _s();\n\n  var router = useRouter();\n  var _router$query = router.query,\n      pid = _router$query.pid,\n      name = _router$query.name;\n\n  var _useSwr = useSwr('/api/testing-sites', fetcher),\n      data = _useSwr.data,\n      error = _useSwr.error;\n\n  var _useState = useState(\"\"),\n      testing_site = _useState[0],\n      setTestingSite = _useState[1];\n\n  if (error) {\n    console.error('Error loading data from API for /api/testing-sites: ', error);\n  }\n\n  useEffect(function () {\n    var formattedData = (data || []).map(function (site) {\n      return {\n        key: \"\".concat(site.site_name, \"+\").concat(site.coordinates.lat, \"+\").concat(site.coordinates.lng),\n        output_key: \"\".concat(site.site_name, \"+\").concat(site.coordinates.lat, \"+\").concat(site.coordinates.lng),\n        name: site.site_name,\n        site_info: {\n          name: site.site_name,\n          provider_url: site.provider_url,\n          additional_info: site.additional_info,\n          address: site.address,\n          phone: site.phone,\n          monday: site.monday,\n          tuesday: site.tuesday,\n          wednesday: site.wednesday,\n          thursday: site.thursday,\n          friday: site.friday,\n          saturday: site.saturday,\n          sunday: site.sunday,\n          screening_required: site.screening_required,\n          appointment_required: site.appointment_required,\n          antibody_testing: site.antibody_testing\n        },\n        coordinates: {\n          lat: site.coordinates.lat,\n          lng: site.coordinates.lng\n        }\n      };\n    });\n    console.log(\"formattedData\", formattedData);\n    setTestingSite(formattedData.filter(function (item) {\n      return item.name === name;\n    }));\n  }, [data]);\n  console.log(\"data\", testing_site);\n  return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 10\n    }\n  }, __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, \"Address: \", item.site_info.address, \" \", __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 43\n    }\n  }), item.site_info.phone ? \"Phone Number: \".concat(item.site_info.phone) : '', item.site_info.phone ? __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 102\n    }\n  }) : '', \"You are \", item.site_info.appointment_required ? 'required' : 'not required', \" to have an appointment to get tested.\", __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 122\n    }\n  }), \"This testing site \", item.site_info.antibody_testing ? 'provides' : 'does not provide', \" antibody testing. \", __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 113\n    }\n  }), \"Hours: \", __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 16\n    }\n  }), item.site_info.sunday ? \"Sunday: \".concat(item.site_info.sunday) : '', item.site_info.sunday ? __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 99\n    }\n  }) : '', item.site_info.monday ? \"Monday: \".concat(item.site_info.monday) : '', item.site_info.monday ? __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 99\n    }\n  }) : '', item.site_info.tuesday ? \"Tuesday: \".concat(item.site_info.tuesday) : '', item.site_info.tuesday ? __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 103\n    }\n  }) : '', item.site_info.wednesday ? \"Wednesday: \".concat(item.site_info.wednesday) : '', item.site_info.wednesday ? __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 111\n    }\n  }) : '', item.site_info.thursday ? \"Thursday: \".concat(item.site_info.thursday) : '', item.site_info.thursday ? __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 107\n    }\n  }) : '', item.site_info.friday ? \"Friday: \".concat(item.site_info.friday) : '', item.site_info.friday ? __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 99\n    }\n  }) : '', item.site_info.saturday ? \"Saturday: \".concat(item.site_info.saturday) : '', item.site_info.saturday ? __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 107\n    }\n  }) : '', item.site_info.additional_info ? \"Additional Information: \".concat(item.site_info.additional_info) : '', item.site_info.additional_info ? __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 142\n    }\n  }) : '', item.site_info.provider_url ? \"URL: \" : '', item.site_info.provider_url ? __jsx(\"a\", {\n    href: item.site_info.provider_url,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 84\n    }\n  }, item.site_info.provider_url) : '', item.site_info.provider_url ? __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 194\n    }\n  }) : '', __jsx(Link, {\n    href: \"/covid-testing-sites/[site]\",\n    as: \"/covid-testing-sites/\".concat(item.site_info.site_name, \"?name=\").concat(item.site_info.site_name),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, __jsx(\"a\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, \"Link to this Info\"))));\n};\n\n_s(Post, \"6BI7+DlM4cnIAPBKhoV3q3VeEDM=\", false, function () {\n  return [useRouter, useSwr];\n});\n\n_c = Post;\nexport default Post;\n\nvar _c;\n\n$RefreshReg$(_c, \"Post\");","map":{"version":3,"sources":["/Users/benjamingordon/Documents/X&X/townie/pages/covid-testing-sites/[testing-site].jsx"],"names":["React","useEffect","useState","useRouter","MapMarkersContext","useSwr","fetcher","fetch","then","res","json","Post","router","query","pid","name","data","error","testing_site","setTestingSite","console","formattedData","map","site","key","site_name","coordinates","lat","lng","output_key","site_info","provider_url","additional_info","address","phone","monday","tuesday","wednesday","thursday","friday","saturday","sunday","screening_required","appointment_required","antibody_testing","log","filter","item"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useRouter } from 'next/router'\nimport { MapMarkersContext } from 'components/MapMarkersContext';\nimport useSwr from 'swr';\n\nconst fetcher = (...args) => fetch(...args).then(res => res.json());\n\nconst Post = () => {\n  const router = useRouter()\n  const { pid, name } = router.query\n  const { data, error } = useSwr('/api/testing-sites', fetcher);\n  const [testing_site, setTestingSite] = useState(\"\");  \n\n  if (error) {\n    console.error('Error loading data from API for /api/testing-sites: ', error);\n  }    \n\n  useEffect(() => {\n    const formattedData = (data || []).map((site) => ({\n      key: `${site.site_name}+${site.coordinates.lat}+${site.coordinates.lng}`,\n      output_key: `${site.site_name}+${site.coordinates.lat}+${site.coordinates.lng}`,\n      name: site.site_name,   \n      site_info: {\n        name: site.site_name, \n        provider_url: site.provider_url,\n        additional_info: site.additional_info,\n        address: site.address,\n        phone: site.phone,\n        monday: site.monday,\n        tuesday: site.tuesday,\n        wednesday: site.wednesday,\n        thursday: site.thursday,\n        friday: site.friday,\n        saturday: site.saturday,\n        sunday: site.sunday,\n        screening_required: site.screening_required,\n        appointment_required: site.appointment_required,\n        antibody_testing: site.antibody_testing, \n      },                   \n      coordinates: {\n        lat: site.coordinates.lat,\n        lng: site.coordinates.lng,\n      },\n    }));\n    console.log(\"formattedData\",formattedData);\n    setTestingSite(formattedData.filter(item=>item.name===name));\n  }, [data]);\n  console.log(\"data\",testing_site)\n\n  return <div>\n    {\n      <p>                \n        Address: {item.site_info.address} <br></br> \n        {item.site_info.phone ? `Phone Number: ${item.site_info.phone}` : ''}{item.site_info.phone ? <br></br> : ''}\n        You are {item.site_info.appointment_required ? 'required' : 'not required'} to have an appointment to get tested.<br></br>\n        This testing site {item.site_info.antibody_testing ? 'provides' : 'does not provide'} antibody testing. <br></br>        \n        Hours: <br></br>\n        {item.site_info.sunday ? `Sunday: ${item.site_info.sunday}` : ''}{item.site_info.sunday ? <br></br> : ''}\n        {item.site_info.monday ? `Monday: ${item.site_info.monday}` : ''}{item.site_info.monday ? <br></br> : ''}\n        {item.site_info.tuesday ? `Tuesday: ${item.site_info.tuesday}` : ''}{item.site_info.tuesday ? <br></br> : ''}\n        {item.site_info.wednesday ? `Wednesday: ${item.site_info.wednesday}` : ''}{item.site_info.wednesday ? <br></br> : ''}\n        {item.site_info.thursday ? `Thursday: ${item.site_info.thursday}` : ''}{item.site_info.thursday ? <br></br> : ''}\n        {item.site_info.friday ? `Friday: ${item.site_info.friday}` : ''}{item.site_info.friday ? <br></br> : ''}\n        {item.site_info.saturday ? `Saturday: ${item.site_info.saturday}` : ''}{item.site_info.saturday ? <br></br> : ''}\n        {item.site_info.additional_info ? `Additional Information: ${item.site_info.additional_info}` : ''}{item.site_info.additional_info ? <br></br> : ''}         \n        {item.site_info.provider_url ? `URL: ` : ''}{item.site_info.provider_url ? <a href = {item.site_info.provider_url}>{item.site_info.provider_url}</a> : ''}{item.site_info.provider_url ? <br></br> : ''} \n        <Link href=\"/covid-testing-sites/[site]\" as={`/covid-testing-sites/${item.site_info.site_name}?name=${item.site_info.site_name}`}>\n            <a>Link to this Info</a>\n        </Link>\n      </p>\n      \n    }\n  </div>\n}\n\nexport default Post"]},"metadata":{},"sourceType":"module"}