{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _s = $RefreshSig$(),\n    _jsxFileName = \"/Users/benjamingordon/Documents/X&X/townie/components/GoogleMap/index.jsx\",\n    _s2 = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useContext, useState } from 'react';\nimport GoogleMapReact from 'google-map-react';\nimport useSwr from 'swr';\nimport { MapMarker } from 'components/MapMarker';\nimport { MapMarkersContext } from 'components/MapMarkersContext';\nimport config from './mapConfig';\n\nvar fetcher = function fetcher() {\n  return fetch.apply(void 0, arguments).then(function (res) {\n    return res.json();\n  });\n};\n\nfunction getMapOptions() {\n  return config;\n}\n\nfunction getCenter(coordinates) {\n  if (coordinates !== undefined) return {\n    lat: coordinates.results[0].geometry.location.lat,\n    lng: coordinates.results[0].geometry.location.lng\n  };else return {\n    lat: 40.635,\n    lng: -73.94\n  };\n} // var address = \"\";\n// function setCoordinates(address){    \n//   if(address !== \"\"){             \n//       //fetch(`https://maps.googleapis.com/maps/api/geocode/json?key=${process.env.NEXT_PUBLIC_GOOGLE_MAPS_BOOTSTRAP_URL}&address=${this.state.address}`,{\n//       fetch(`https://maps.googleapis.com/maps/api/geocode/json?key=AIzaSyBe7_ta_1zNod6CsCJI6ssWk64kyO14HZo&address=${this.state.address}`,{\n//           method: \"GET\",\n//           dataType: \"JSON\",\n//           // headers: {\n//           //   \"Content-Type\": \"application/json; charset=utf-8\",\n//           // }\n//       })\n//       .then(response => response.json())\n//       .then(data => {           \n//         this.setState({ coordinates: {lat: data.results[0].geometry.location.lat, lng: data.results[0].geometry.location.lng}});          \n//       });\n//   }\n// }\n\n\nfunction changeCenter(address) {\n  _s();\n\n  var _useSwr = useSwr(\"https://maps.googleapis.com/maps/api/geocode/json?key=AIzaSyBe7_ta_1zNod6CsCJI6ssWk64kyO14HZo&address=\".concat(address), fetcher),\n      coordinates = _useSwr.coordinates,\n      error = _useSwr.error;\n\n  return coordinates;\n}\n\n_s(changeCenter, \"EgL7A1pz2CPZ9ekhjZObCT1idkU=\", false, function () {\n  return [useSwr];\n});\n\nexport function GoogleMap() {\n  _s2();\n\n  var _this = this;\n\n  var _useContext = useContext(MapMarkersContext),\n      markers = _useContext.markers;\n\n  var _React$useState = React.useState(\"554 76th street bay ridge\"),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      address = _React$useState2[0],\n      setState = _React$useState2[1];\n\n  var _useSwr2 = useSwr(\"https://maps.googleapis.com/maps/api/geocode/json?key=AIzaSyBe7_ta_1zNod6CsCJI6ssWk64kyO14HZo&address=\".concat(address), fetcher),\n      coordinates = _useSwr2.coordinates,\n      error = _useSwr2.error;\n\n  return __jsx(\"div\", {\n    className: \"google-map-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }), __jsx(\"label\", {\n    \"for\": \"address\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, \"Enter address\"), __jsx(\"input\", {\n    name: \"address\",\n    value: coordinates,\n    onChange: changeCenter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }), __jsx(GoogleMapReact, {\n    bootstrapURLKeys: {\n      key: \"AIzaSyBe7_ta_1zNod6CsCJI6ssWk64kyO14HZo\"\n    } //bootstrapURLKeys={{ key: process.env.NEXT_PUBLIC_GOOGLE_MAPS_BOOTSTRAP_URL }}\n    ,\n    center: getCenter(coordinates),\n    defaultZoom: 13,\n    options: getMapOptions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, markers.map(function (item) {\n    return __jsx(MapMarker, {\n      key: item.key //text={item.name}            \n      ,\n      lat: item.coordinates.lat,\n      lng: item.coordinates.lng,\n      site_info: item.site_info,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }\n    });\n  })));\n}\n\n_s2(GoogleMap, \"ofJQpLbV5ecAP+n60bj80NfyFY4=\", false, function () {\n  return [useSwr];\n});\n\n_c = GoogleMap;\n\nvar _c;\n\n$RefreshReg$(_c, \"GoogleMap\");","map":{"version":3,"sources":["/Users/benjamingordon/Documents/X&X/townie/components/GoogleMap/index.jsx"],"names":["React","useContext","useState","GoogleMapReact","useSwr","MapMarker","MapMarkersContext","config","fetcher","fetch","then","res","json","getMapOptions","getCenter","coordinates","undefined","lat","results","geometry","location","lng","changeCenter","address","error","GoogleMap","markers","setState","key","map","item","site_info"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\r\nimport GoogleMapReact from 'google-map-react';\r\nimport useSwr from 'swr';\r\n\r\nimport { MapMarker } from 'components/MapMarker';\r\nimport { MapMarkersContext } from 'components/MapMarkersContext';\r\n\r\nimport config from './mapConfig';\r\n\r\nconst fetcher = (...args) => fetch(...args).then(res => res.json())\r\n\r\n\r\n\r\nfunction getMapOptions() {\r\n  return config;\r\n}\r\n\r\nfunction getCenter(coordinates) {\r\n  if(coordinates !== undefined)\r\n    return {lat: coordinates.results[0].geometry.location.lat, lng: coordinates.results[0].geometry.location.lng};    \r\n  else\r\n    return {lat: 40.635,lng: -73.94};\r\n}\r\n\r\n// var address = \"\";\r\n\r\n// function setCoordinates(address){    \r\n//   if(address !== \"\"){             \r\n//       //fetch(`https://maps.googleapis.com/maps/api/geocode/json?key=${process.env.NEXT_PUBLIC_GOOGLE_MAPS_BOOTSTRAP_URL}&address=${this.state.address}`,{\r\n//       fetch(`https://maps.googleapis.com/maps/api/geocode/json?key=AIzaSyBe7_ta_1zNod6CsCJI6ssWk64kyO14HZo&address=${this.state.address}`,{\r\n//           method: \"GET\",\r\n//           dataType: \"JSON\",\r\n//           // headers: {\r\n//           //   \"Content-Type\": \"application/json; charset=utf-8\",\r\n//           // }\r\n//       })\r\n//       .then(response => response.json())\r\n//       .then(data => {           \r\n//         this.setState({ coordinates: {lat: data.results[0].geometry.location.lat, lng: data.results[0].geometry.location.lng}});          \r\n//       });\r\n//   }\r\n// }\r\nfunction changeCenter(address){\r\n  const { coordinates, error } = useSwr(`https://maps.googleapis.com/maps/api/geocode/json?key=AIzaSyBe7_ta_1zNod6CsCJI6ssWk64kyO14HZo&address=${address}`, fetcher);\r\n  return coordinates;\r\n}\r\n\r\nexport function GoogleMap() {  \r\n  const { markers } = useContext(MapMarkersContext);\r\n  const [address, setState] = React.useState(\"554 76th street bay ridge\"); \r\n  const { coordinates, error } = useSwr(`https://maps.googleapis.com/maps/api/geocode/json?key=AIzaSyBe7_ta_1zNod6CsCJI6ssWk64kyO14HZo&address=${address}`, fetcher);\r\n  \r\n\r\n  return (\r\n    <div className=\"google-map-container\">\r\n      <br></br>      \r\n      <label for=\"address\">Enter address</label>\r\n      <input name =\"address\" value = {coordinates} onChange={changeCenter}></input>\r\n      <GoogleMapReact\r\n        bootstrapURLKeys={{ key: \"AIzaSyBe7_ta_1zNod6CsCJI6ssWk64kyO14HZo\" }}\r\n        //bootstrapURLKeys={{ key: process.env.NEXT_PUBLIC_GOOGLE_MAPS_BOOTSTRAP_URL }}\r\n        center={getCenter(coordinates)}\r\n        defaultZoom={13}\r\n        options={getMapOptions}\r\n      >\r\n       {markers.map((item) => (\r\n          <MapMarker\r\n            key={item.key}\r\n            //text={item.name}            \r\n            lat={ item.coordinates.lat}\r\n            lng={ item.coordinates.lng}\r\n            site_info= {item.site_info}             \r\n          />\r\n        ))}\r\n      </GoogleMapReact>      \r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}